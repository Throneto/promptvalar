# ğŸš€ ç®¡ç†å‘˜åå°å¿«é€ŸæŒ‡å—

## âœ… ç®¡ç†å‘˜è´¦æˆ·å·²åˆ›å»º

**è´¦æˆ·ä¿¡æ¯:**
- **é‚®ç®±**: test@promptvalar.com
- **ç”¨æˆ·å**: testuser
- **è§’è‰²**: admin âœ…
- **å¯†ç **: (æ³¨å†Œæ—¶è®¾ç½®çš„å¯†ç )

---

## ğŸ“ è®¿é—®ç®¡ç†åå°

### 1. ç™»å½•ç³»ç»Ÿ

#### å¼€å‘ç¯å¢ƒ
è®¿é—®: http://localhost:3000/login
```
é‚®ç®±: test@promptvalar.com
å¯†ç : [ä½ æ³¨å†Œæ—¶è®¾ç½®çš„å¯†ç ]
```

#### ç”Ÿäº§ç¯å¢ƒ
è®¿é—®: https://promptvalar.com/login
```
é‚®ç®±: test@promptvalar.com
å¯†ç : [ä½ æ³¨å†Œæ—¶è®¾ç½®çš„å¯†ç ]
```

### 2. è®¿é—®ç®¡ç†åå°

ç™»å½•æˆåŠŸåï¼Œè®¿é—®ä»¥ä¸‹åœ°å€ï¼š

#### å¼€å‘ç¯å¢ƒ
- **ä»ªè¡¨æ¿**: http://localhost:3000/admin
- **ç”¨æˆ·ç®¡ç†**: http://localhost:3000/admin/users
- **æç¤ºè¯ç®¡ç†**: http://localhost:3000/admin/prompts

#### ç”Ÿäº§ç¯å¢ƒ
- **ä»ªè¡¨æ¿**: https://promptvalar.com/admin
- **ç”¨æˆ·ç®¡ç†**: https://promptvalar.com/admin/users
- **æç¤ºè¯ç®¡ç†**: https://promptvalar.com/admin/prompts

---

## ğŸ”§ ç®¡ç†åŠŸèƒ½

### ğŸ“Š ä»ªè¡¨æ¿ (`/admin`)
- æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡æ•°æ®
- ç”¨æˆ·å¢é•¿è¶‹åŠ¿
- çƒ­é—¨æç¤ºè¯æ’è¡Œ
- å®æ—¶æ´»è·ƒæ•°æ®

### ğŸ‘¥ ç”¨æˆ·ç®¡ç† (`/admin/users`)
- æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨
- æœç´¢ç”¨æˆ·
- ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯
- é‡ç½®ç”¨æˆ·å¯†ç 
- å¯ç”¨/ç¦ç”¨ç”¨æˆ·
- åˆ é™¤ç”¨æˆ·
- è®¾ç½®ç”¨æˆ·è§’è‰²å’Œè®¢é˜…ç­‰çº§

### ğŸ“ æç¤ºè¯ç®¡ç† (`/admin/prompts`)
- æŸ¥çœ‹æ‰€æœ‰æç¤ºè¯
- æœç´¢å’Œç­›é€‰
- ç¼–è¾‘æç¤ºè¯
- å‘å¸ƒ/å–æ¶ˆå‘å¸ƒ
- è®¾ç½®é«˜çº§æç¤ºè¯
- åˆ é™¤æç¤ºè¯

---

## ğŸ†• åˆ›å»ºæ›´å¤šç®¡ç†å‘˜

å¦‚éœ€åˆ›å»ºæ›´å¤šç®¡ç†å‘˜è´¦æˆ·ï¼š

### æ­¥éª¤ 1: æ³¨å†Œæ–°è´¦æˆ·
è®¿é—® `/register` é¡µé¢æ³¨å†Œæ–°ç”¨æˆ·

### æ­¥éª¤ 2: è®¾ç½®ç®¡ç†å‘˜æƒé™
```bash
cd /root/promptvalar
./set-admin.sh new-admin@example.com
```

---

## ğŸ” éªŒè¯ç®¡ç†å‘˜æƒé™

### æ–¹æ³• 1: é€šè¿‡ç•Œé¢
1. ç™»å½•è´¦æˆ·
2. å°è¯•è®¿é—® `/admin`
3. å¦‚æœèƒ½è®¿é—®ï¼Œè¯´æ˜æœ‰ç®¡ç†å‘˜æƒé™

### æ–¹æ³• 2: é€šè¿‡æ•°æ®åº“
```bash
sudo -u postgres psql -d promptvalar -c "SELECT username, email, role FROM users WHERE email = 'test@promptvalar.com';"
```

åº”è¯¥çœ‹åˆ° `role` å­—æ®µä¸º `admin`

### æ–¹æ³• 3: æŸ¥çœ‹æ‰€æœ‰ç®¡ç†å‘˜
```bash
sudo -u postgres psql -d promptvalar -c "SELECT username, email, role FROM users WHERE role = 'admin';"
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q: ç™»å½•åè®¿é—® /admin è¢«é‡å®šå‘åˆ°é¦–é¡µï¼Ÿ

**åŸå› **: æµè§ˆå™¨ä¸­ç¼“å­˜çš„ç”¨æˆ·ä¿¡æ¯è¿˜æ˜¯æ—§çš„ï¼ˆrole: userï¼‰

**è§£å†³æ–¹æ¡ˆ**:
1. é€€å‡ºç™»å½•
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜æˆ–æ‰“å¼€æ— ç—•æ¨¡å¼
3. é‡æ–°ç™»å½•

æˆ–åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œï¼š
```javascript
localStorage.clear();
location.reload();
```

### Q: å¦‚ä½•å–æ¶ˆç®¡ç†å‘˜æƒé™ï¼Ÿ

```bash
sudo -u postgres psql -d promptvalar -c "UPDATE users SET role = 'user' WHERE email = 'user@example.com';"
```

### Q: å¿˜è®°ç®¡ç†å‘˜è´¦æˆ·å¯†ç ï¼Ÿ

**æ–¹æ³• 1: ä½¿ç”¨é‡ç½®å¯†ç è„šæœ¬**
```bash
# éœ€è¦å…ˆå®ç°å¯†ç é‡ç½®åŠŸèƒ½
```

**æ–¹æ³• 2: ç›´æ¥åœ¨æ•°æ®åº“ä¸­æ›´æ–°å¯†ç å“ˆå¸Œ**
```bash
# å…ˆç”Ÿæˆæ–°å¯†ç çš„hashï¼Œç„¶åæ›´æ–°æ•°æ®åº“
# å»ºè®®ä½¿ç”¨åº”ç”¨çš„å¯†ç é‡ç½®åŠŸèƒ½
```

**æ–¹æ³• 3: åˆ›å»ºæ–°çš„ç®¡ç†å‘˜è´¦æˆ·**
```bash
# æ³¨å†Œæ–°è´¦æˆ·ï¼Œç„¶åè®¾ç½®ä¸ºç®¡ç†å‘˜
./set-admin.sh new-admin@example.com
```

---

## ğŸ” å®‰å…¨å»ºè®®

1. **ä½¿ç”¨å¼ºå¯†ç **
   - è‡³å°‘8ä¸ªå­—ç¬¦
   - åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦

2. **å®šæœŸæ›´æ¢å¯†ç **
   - å»ºè®®æ¯3-6ä¸ªæœˆæ›´æ¢ä¸€æ¬¡

3. **é™åˆ¶ç®¡ç†å‘˜æ•°é‡**
   - åªç»™å¿…è¦çš„äººå‘˜ç®¡ç†å‘˜æƒé™
   - å®šæœŸå®¡æŸ¥ç®¡ç†å‘˜åˆ—è¡¨

4. **æ“ä½œæ—¥å¿—**
   - è®°å½•æ‰€æœ‰ç®¡ç†å‘˜æ“ä½œ
   - å®šæœŸæ£€æŸ¥å¼‚å¸¸æ“ä½œ

5. **ä¸è¦åœ¨å…¬å…±åœºæ‰€ç™»å½•**
   - é¿å…åœ¨ä¸å®‰å…¨çš„ç½‘ç»œç¯å¢ƒä¸‹ç™»å½•ç®¡ç†åå°

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **å®Œæ•´ç®¡ç†å‘˜æ–‡æ¡£**: `ADMIN_ACCESS.md`
- **å¼€å‘ç¯å¢ƒé…ç½®**: `DEV_ENVIRONMENT.md`
- **APIæ–‡æ¡£**: æŸ¥çœ‹åç«¯è·¯ç”±æ–‡ä»¶

---

## ğŸ¯ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# æŸ¥çœ‹æ‰€æœ‰ç®¡ç†å‘˜
sudo -u postgres psql -d promptvalar -c "SELECT username, email, role FROM users WHERE role = 'admin';"

# è®¾ç½®ç”¨æˆ·ä¸ºç®¡ç†å‘˜
./set-admin.sh user@example.com

# å–æ¶ˆç®¡ç†å‘˜æƒé™
sudo -u postgres psql -d promptvalar -c "UPDATE users SET role = 'user' WHERE email = 'user@example.com';"

# æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…
sudo -u postgres psql -d promptvalar -c "SELECT * FROM users WHERE email = 'user@example.com';"

# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
sudo -u postgres psql -d promptvalar -c "SELECT username, email, role, subscription_tier, is_active FROM users;"
```

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨æ‚¨å¯ä»¥ï¼š

1. âœ… ä½¿ç”¨ test@promptvalar.com ç™»å½•
2. âœ… è®¿é—® /admin æŸ¥çœ‹ç®¡ç†åå°
3. âœ… ç®¡ç†ç”¨æˆ·å’Œæç¤ºè¯
4. âœ… æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡æ•°æ®

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€

---

**åˆ›å»ºæ—¶é—´**: 2025-10-26  
**æœ€åæ›´æ–°**: 2025-10-26

