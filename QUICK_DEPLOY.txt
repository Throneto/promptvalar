========================================================================
               ğŸš€ ç”Ÿäº§æœåŠ¡å™¨å¿«é€Ÿéƒ¨ç½²æŒ‡ä»¤
========================================================================

å¤åˆ¶ä»¥ä¸‹å‘½ä»¤åˆ°ç”Ÿäº§æœåŠ¡å™¨æ‰§è¡Œï¼š

------------------------------------------------------------------------
æ­¥éª¤ 1: æ›´æ–°ä»£ç å¹¶ä¿®å¤æ„å»ºé—®é¢˜
------------------------------------------------------------------------

cd /var/www/promptvalar
git pull origin main
./fix-production-deploy.sh


------------------------------------------------------------------------
æ­¥éª¤ 2: æ›´æ–° Nginx é…ç½®
------------------------------------------------------------------------

cd /var/www/promptvalar
sudo ./update-nginx-config.sh


------------------------------------------------------------------------
æ­¥éª¤ 3: é…ç½® SSL è¯ä¹¦ï¼ˆéœ€è¦ DNS å·²é…ç½®ï¼‰
------------------------------------------------------------------------

sudo certbot --nginx -d promptvalar.com -d www.promptvalar.com -d api.promptvalar.com


------------------------------------------------------------------------
æ­¥éª¤ 4: éªŒè¯éƒ¨ç½²
------------------------------------------------------------------------

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
pm2 status

# æµ‹è¯• API
curl -I http://localhost:5000/health

# æµ‹è¯•å‰ç«¯
curl -I https://promptvalar.com

# æµ‹è¯• APIï¼ˆå¤–éƒ¨ï¼‰
curl -I https://api.promptvalar.com/health


------------------------------------------------------------------------
æ•…éšœæ’æŸ¥
------------------------------------------------------------------------

# æŸ¥çœ‹åç«¯æ—¥å¿—
pm2 logs promptvalar-backend --lines 50

# æŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/error.log

# é‡å¯æœåŠ¡
pm2 restart promptvalar-backend
sudo systemctl restart nginx


========================================================================
