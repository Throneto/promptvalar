# 🌐 生产环境测试指南 - tablevision.top

## ✅ 测试账号已创建

### 📋 测试账号信息

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━
📧 邮箱: test@tablevision.top
🔑 密码: Test123456
👤 用户名: testuser
━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**请妥善保管这个测试账号！**

---

## 🚀 开始测试

### 步骤 1：登录系统

1. **打开浏览器访问：** http://tablevision.top/login

2. **输入登录信息**
   - 📧 邮箱：`test@tablevision.top`
   - 🔑 密码：`Test123456`

3. **点击"Sign In"**
   - ✅ 验证：成功登录后，右上角显示用户头像和 "testuser"

---

### 步骤 2：测试 Studio 保存功能（核心功能）⭐

#### 2.1 进入 Studio

1. **点击导航栏的 "Studio"**
   - 或直接访问：http://tablevision.top/studio
   - ✅ 验证：看到 "Prompt Studio" 页面

#### 2.2 生成提示词

1. **在输入框输入想法：**
   ```
   a beautiful sunset over the ocean with golden light
   ```

2. **选择参数：**
   - Model: Sora（默认）
   - Style: Cinematic（默认）

3. **点击 "Generate Prompt" 按钮**
   - ⏳ 等待 5-10 秒
   - ✅ 验证：看到 Step 2 出现生成的提示词

#### 2.3 保存提示词（重点测试）🔥

1. **滚动到页面底部（Step 3）**
   - ✅ 确认：看到一个**大的绿色按钮**："💾 保存提示词"

2. **点击"保存提示词"按钮**
   - ✅ 验证：弹出保存对话框

3. **填写提示词信息：**
   
   **必填字段：**
   - 标题：`Ocean Sunset Test`
   
   **可选字段：**
   - 描述：`A beautiful cinematic sunset scene for testing`
   - 分类：选择 `视频生成`
   - 标签：
     - 输入 `sunset` 按回车
     - 输入 `ocean` 按回车
     - 或点击推荐标签：`cinematic`
   - 预览图：留空（可选）

4. **点击对话框底部的"💾 保存"按钮**
   - ⏳ 等待保存
   
5. **🎯 关键验证点：**
   - ✅ 右上角出现绿色提示："提示词保存成功！"
   - ✅ 2秒后自动跳转到详情页
   - ✅ 详情页显示刚才保存的提示词
   - ✅ 标题、描述、标签都正确显示

**如果以上全部通过，保存功能测试成功！** 🎉

---

### 步骤 3：测试"我的提示词"

1. **点击右上角用户头像**
   - 下拉菜单出现

2. **选择"我的提示词"**
   - 或直接访问：http://tablevision.top/dashboard/prompts

3. **验证：**
   - ✅ 能看到刚才创建的提示词卡片
   - ✅ 卡片显示标题和标签
   - ✅ 显示统计信息（浏览量、收藏数）

---

### 步骤 4：测试编辑功能

1. **在"我的提示词"页面**
   - 找到刚才创建的提示词卡片

2. **悬停在卡片上**
   - ✅ 验证：看到"编辑"和"删除"按钮

3. **点击"编辑"按钮**
   - ✅ 验证：跳转到 Studio
   - ✅ 验证：URL 变为 `/studio?edit=xxx`
   - ✅ 验证：页面标题显示 "Edit Prompt"
   - ✅ 验证：提示词内容已加载

4. **修改提示词**
   - 在结构化编辑器中做一些修改
   - 或直接点击"更新提示词"按钮

5. **保存更新**
   - 对话框会预填充原有数据
   - 修改标题为：`Ocean Sunset Test - Updated`
   - 点击"更新"

6. **验证：**
   - ✅ 显示"提示词更新成功！"
   - ✅ 跳转回详情页
   - ✅ 看到更新后的标题

---

### 步骤 5：测试草稿自动保存

1. **打开新标签页访问 Studio**
   - http://tablevision.top/studio

2. **生成一个新的提示词**
   - 输入任意想法并生成

3. **不要保存！直接刷新页面（F5）**

4. **验证：**
   - ✅ 刷新后，内容自动恢复
   - ✅ 之前的想法还在
   - ✅ 生成的提示词还在

5. **现在保存这个提示词**

6. **关闭标签页，重新打开 Studio**

7. **验证：**
   - ✅ 页面是空的（草稿已清除）

---

### 步骤 6：测试收藏功能

1. **从"我的提示词"点击查看详情**

2. **点击"收藏"按钮（❤️图标）**
   - ✅ 验证：按钮变为红色填充
   - ✅ 验证：收藏数 +1

3. **访问"我的收藏"**
   - 点击用户头像 → "我的收藏"
   - 或访问：http://tablevision.top/dashboard/favorites

4. **验证：**
   - ✅ 能看到刚才收藏的提示词

5. **取消收藏**
   - 点击卡片上的"删除"按钮（🗑️）
   - ✅ 验证：提示词从列表中移除

---

## ✅ 完整测试检查清单

测试完成后，检查以下项目：

- [ ] ✅ 能成功登录
- [ ] ✅ 能进入 Studio
- [ ] ✅ 能生成提示词
- [ ] ✅ **能看到保存按钮**（绿色大按钮）
- [ ] ✅ **能打开保存对话框**
- [ ] ✅ **能成功保存**
- [ ] ✅ **能自动跳转到详情页**
- [ ] ✅ 在"我的提示词"能看到
- [ ] ✅ 能编辑提示词
- [ ] ✅ 能更新提示词
- [ ] ✅ 草稿能自动保存
- [ ] ✅ 草稿能恢复
- [ ] ✅ 保存后草稿清除
- [ ] ✅ 能收藏提示词
- [ ] ✅ 能查看收藏列表

---

## 📸 关键截图建议

建议在测试时截图以下内容：

1. **保存按钮截图**
   - 位置：Studio 页面底部
   - 特征：绿色大按钮，写着"💾 保存提示词"

2. **保存对话框截图**
   - 显示完整的表单界面

3. **成功提示截图**
   - 右上角的绿色提示："提示词保存成功！"

4. **我的提示词页面截图**
   - 显示保存的提示词卡片

5. **编辑模式截图**
   - 页面标题显示 "Edit Prompt"
   - URL 包含 `?edit=`

---

## 🐛 常见问题

### 问题 1：登录后立即退出
**可能原因：**
- Token 存储问题
- 浏览器 Cookie 设置

**解决方法：**
- 清除浏览器缓存和 Cookie
- 检查浏览器控制台是否有错误

### 问题 2：生成提示词失败
**可能原因：**
- OpenRouter API 配置问题
- 网络连接问题

**调试：**
- 打开浏览器开发者工具（F12）
- 查看 Network 标签页中的请求
- 查看 Console 是否有错误

### 问题 3：保存按钮不显示
**可能原因：**
- 提示词未生成完成
- 页面加载错误

**解决：**
- 确保提示词已经生成（Step 2 显示内容）
- 滚动到页面底部 Step 3 区域
- 刷新页面重试

### 问题 4：保存失败
**可能原因：**
- 标题为空或太短
- 网络错误
- 后端错误

**调试：**
- 检查必填字段是否填写
- 标题至少 3 个字符
- 查看浏览器控制台错误信息

---

## 📊 测试报告模板

测试完成后，您可以这样报告：

```
✅ 登录功能 - 正常
✅ Studio 生成 - 正常
✅ 保存功能 - 正常
✅ 编辑功能 - 正常
✅ 草稿保存 - 正常
✅ 收藏功能 - 正常

总结：所有核心功能正常工作！
```

或者如果有问题：

```
✅ 登录功能 - 正常
✅ Studio 生成 - 正常
❌ 保存功能 - 失败
   错误：保存时出现 500 错误
   详细：[粘贴错误信息]

需要修复...
```

---

## 🎯 测试重点

**最重要的是测试保存功能！** 这是本次更新的核心。

确保：
1. ✅ 能看到保存按钮（绿色大按钮）
2. ✅ 能打开对话框
3. ✅ 能成功保存
4. ✅ 能自动跳转
5. ✅ 数据正确显示

如果以上 5 点都通过，说明核心功能已经正常工作！🎉

---

## 🔧 技术细节

### 域名访问
- 生产域名：http://tablevision.top
- 前端端口：3000（Nginx 代理）
- 后端端口：5000

### API 端点
- 登录：`POST /api/v1/auth/login`
- 创建提示词：`POST /api/v1/prompts`
- 更新提示词：`PUT /api/v1/prompts/:id`
- 我的提示词：`GET /api/v1/prompts`

---

## 📞 支持

如果测试中遇到任何问题：

1. **查看浏览器控制台**（F12）
2. **记录错误信息**
3. **截图保存**
4. **报告问题**

---

**预计测试时间：10-15 分钟**

**祝测试顺利！** 🚀

---

## 📝 测试记录

**测试日期：** _________

**测试人员：** _________

**测试结果：**

- [ ] 全部通过
- [ ] 部分通过
- [ ] 需要修复

**备注：**
_________________________________________________
_________________________________________________
_________________________________________________

